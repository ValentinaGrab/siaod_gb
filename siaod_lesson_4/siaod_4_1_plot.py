# -*- coding: utf-8 -*-
"""siaod_3_1.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/10WZS2qpMUeMrwOKtWlWGf_6y3d7_coad
"""

#В одномерном массиве найти сумму элементов, находящихся между минимальным
# и максимальным элементами. Сами минимальный и максимальный элементы в сумму не включать.

import random
import timeit
import matplotlib.pyplot as plt
import numpy as np

def sum_array_without_min_max_v1(num_array): 
  # вариант с enumerate
    min_item, max_item, sum_array = 0, 0, 0
    for i, val in enumerate(num_array, start=0):
        if val > max_item:
            max_item = val
        if val < min_item:
            min_item = val
        sum_array = sum_array + num_array[i]
    return sum_array - max_item - min_item

def sum_array_without_min_max_v2(num_array):
  # вариант с range
    min_item, max_item, sum_array = 0, 0, 0
    for i in range(len(num_array)):
        if num_array[i] > max_item:
            max_item = num_array[i]
        if num_array[i] < min_item:
            min_item = num_array[i]
        sum_array = sum_array + num_array[i]
    return sum_array - max_item - min_item

def sum_array_without_min_max_v3(num_array):
  # вариант с while
    min_item, max_item, sum_array = 0, 0, 0
    i = 0
    while i != len(num_array):
        if num_array[i] > max_item:
            max_item = num_array[i]
        if num_array[i] < min_item:
            min_item = num_array[i]
        sum_array = sum_array + num_array[i]
        i += 1
    return sum_array - max_item - min_item

size = np.linspace(100, 10000, 100)
v1, v2, v3 = [],[],[]
for k in size:
  print(k)
  num_array = [random.randint(-1000, 1000) for _ in range(int(k))]
  v1.append(timeit.timeit('sum_array_without_min_max_v1(num_array)', number=100, globals=globals()))
  v2.append(timeit.timeit('sum_array_without_min_max_v2(num_array)', number=100, globals=globals()))
  v3.append(timeit.timeit('sum_array_without_min_max_v1(num_array)', number=100, globals=globals()))
plt.plot(size, v1)
plt.plot(size, v2)
plt.plot(size, v3)
plt.show()

print("finished")

# Все три варианта имеют практически линейную зависимость от размера массива
# При этом вариант 1 (enumerate - синий на графике) показывает более стальные результаты по скорости
# 2 графика - размер массива до 10 тыс и 1 млн элементов

"""size  enumerate,  for,  while
100,0.019517518999999997,0.021232940999999998,0.017630276
200,0.024281146000000003,0.02653471099999999,0.02239327200000002
300,0.033265339000000005,0.03968666000000001,0.03376630099999997
400,0.04546711600000003,0.05324227599999998,0.046884959999999976
500,0.06791959800000003,0.08469817799999996,0.065842858
600,0.07104492799999995,0.09379764800000001,0.07151938600000007
700,0.08235362999999996,0.10802327500000009,0.12067047299999989
800,0.09463570900000007,0.10897746000000019,0.10291793000000005
900,0.10821084199999986,0.12202836699999997,0.10615365200000015
1000,0.11991778799999997,0.14681551800000014,0.11970145299999979
1100,0.13040455299999998,0.14997195499999982,0.132181047
1200,0.14170777799999978,0.18382728000000004,0.14677757300000005
1300,0.1560912619999999,0.17871388199999982,0.15694098200000006
1400,0.16727499999999962,0.20335037899999975,0.16854939899999977
1500,0.18022519499999934,0.20715314799999973,0.1800735470000001
1600,0.20119971300000028,0.23449452799999992,0.2007313289999999
1700,0.20539820900000016,0.23229396700000038,0.20446925300000007
1800,0.2287771869999995,0.2637447979999994,0.22812076199999964
1900,0.22745130499999977,0.26010174699999933,0.2290227920000003
2000,0.2422267859999998,0.27490816500000026,0.24206888899999957
2100,0.2594984890000003,0.290094109,0.3039019859999996
2200,0.518640336999999,0.31495342000000015,0.2866893089999998
2300,0.381956765,0.3722439510000015,0.303785564
2400,0.3489401809999997,0.33753069000000124,0.30525191500000126
2500,0.34956695999999887,0.387495727000001,0.3546152970000005
2600,0.33937668299999935,0.42059602500000004,0.34941232799999966
2700,0.36789794000000065,0.4056850099999991,0.3712785640000007
2800,0.36794849600000035,0.40562950099999995,0.3416226499999979
2900,0.35555930199999963,0.4298039749999987,0.3653228449999979
3000,0.37022031000000055,0.4272815339999987,0.37446410100000094
3100,0.3835388789999996,0.43203824399999746,0.3813629540000001
3200,0.3965618699999993,0.4432145179999978,0.391831112000002
3300,0.40221917399999896,0.47512773199999714,0.42748182100000065
3400,0.4303433179999985,0.5142231929999994,0.4719609889999994
3500,0.7219942209999992,0.7034650790000008,0.424181468999997
3600,0.43816146700000047,0.5017450630000013,0.4365732049999984
3700,0.4701806679999976,0.5456571329999989,0.4706330790000024
3800,0.4681334849999992,0.5258203839999993,0.4601970080000015
3900,0.47444921200000323,0.5975787920000002,0.47543161099999764
4000,0.4891001199999998,0.5573531010000039,0.4922047419999984
4100,0.4985171550000018,0.5746203909999963,0.49829283399999724
4200,0.5122853669999969,0.6152848119999987,0.5438534869999998
4300,0.5938151890000043,0.6026033000000055,0.5567570429999975
4400,0.5389903750000045,0.6076022089999995,0.5356321910000048
4500,0.5453602019999977,0.6214190760000022,0.5505426169999978
4600,0.5791441120000016,0.6429580929999972,0.5638641279999987
4700,0.5870910970000054,0.708285343,0.595486704999999
4800,0.6292217539999996,0.6785247850000005,0.5926929950000002
4900,0.6138460439999989,0.7190826929999972,0.6787113500000004
5000,0.6520659850000001,0.7395620899999997,0.6267825279999997
5100,0.6265477309999952,0.7148874860000021,0.6252823629999966
5200,0.6390345420000045,0.7475816689999988,0.6638434600000025
5300,0.6825746049999992,0.774610121000002,0.8466928340000024
5400,0.7091872290000012,0.8460373399999952,0.6912478779999987
5500,0.6965159710000037,0.8009612640000014,0.7073317289999963
5600,0.7292429130000002,0.8217902760000015,0.6964629000000002
5700,0.7193951320000025,0.8104211790000022,0.7101976350000001
5800,0.7204924339999934,0.8285230380000002,0.7586089069999957
5900,0.7692918429999906,0.8328191740000079,0.7487464490000093
6000,0.7705584520000031,0.8978187049999917,0.8094102879999951
6100,0.810150004999997,0.9782947679999978,0.85747231900001
6200,0.7734136600000028,0.8852155919999944,0.7656772560000036
6300,0.7724761279999939,0.8808438420000044,0.7810661480000078
6400,0.7921182689999995,0.9003480750000108,0.7931052099999931
6500,0.8011404530000021,0.9274607920000051,0.8205375020000076
6600,0.8657517729999995,1.0282396660000046,0.8524357350000002
6700,0.8255305330000056,0.9261005160000053,0.9209841280000006
6800,0.8337155780000103,0.9494448939999955,0.8404633020000034
6900,0.8500238120000034,0.9782543679999947,0.8666755080000001
7000,0.8792588760000086,0.9848698910000024,0.8656618049999878
7100,0.8942720990000055,1.0396786900000023,0.902241212000007
7200,0.9478741319999955,1.0842798380000005,0.9449320069999914
7300,0.9052106019999968,1.0301071970000066,0.9908988309999955
7400,0.9335784510000025,1.0418273070000055,0.9261263949999972
7500,0.937069606999998,1.0572298939999882,0.9352966860000009
7600,0.9442846480000071,1.0669692620000006,0.9432765869999997
7700,0.9550855739999946,1.0814518829999997,0.9619590810000034
7800,0.9956867140000014,1.1460745349999968,1.0232481460000002
7900,0.9949841579999941,1.1466252360000055,1.0596501370000055
8000,1.0491000929999927,1.247924095000002,1.0516904520000026
8100,1.0738630570000112,1.203744112999999,1.123494168999997
8200,1.0498387049999849,1.1523732259999804,1.0120074939999881
8300,1.1246989130000031,1.197305503999985,1.077909763000008
8400,1.071809117000015,1.2209428740000021,1.0267229439999994
8500,1.0377446589999977,1.174810358000002,1.0404653199999814
8600,1.0749078590000067,1.219321801999996,1.0650855320000119
8700,1.0944282439999995,1.1989065029999892,1.0673139999999819
8800,1.0695125729999972,1.233978258999997,1.0815100340000185
8900,1.0952214350000133,1.2345077469999808,1.0905746039999826
9000,1.092556314999996,1.2460833069999921,1.0936957010000015
9100,1.1039149530000145,1.2596157919999769,1.1570682189999957
9200,1.1521991019999973,1.2767043139999998,1.130449452999983
9300,1.1957611429999986,1.386602627000002,1.1949514350000072
9400,1.1519647050000117,1.3062485600000002,1.1483035530000052
9500,1.1598351760000014,1.5695291819999966,1.2063985289999835
9600,1.1716083370000092,1.329370272999995,1.1704395569999804
9700,1.181263371,1.3447951340000088,1.1835696499999813
9800,1.2009704799999952,1.3905995180000161,1.197546286000005
9900,1.2021204189999821,1.3686737440000059,1.207319085000023
"""